import React, { useState } from 'react';
import { FaSmile, FaTimes } from 'react-icons/fa';

const EmojiPicker = ({ onEmojiSelect, isOpen, onClose }) => {
  const [activeCategory, setActiveCategory] = useState('smileys');

  const emojiCategories = {
    smileys: {
      name: 'Smileys',
      emojis: ['ðŸ˜€', 'ðŸ˜ƒ', 'ðŸ˜„', 'ðŸ˜', 'ðŸ˜†', 'ðŸ˜…', 'ðŸ˜‚', 'ðŸ¤£', 'ðŸ˜Š', 'ðŸ˜‡', 'ðŸ™‚', 'ðŸ™ƒ', 'ðŸ˜‰', 'ðŸ˜Œ', 'ðŸ˜', 'ðŸ¥°', 'ðŸ˜˜', 'ðŸ˜—', 'ðŸ˜™', 'ðŸ˜š', 'ðŸ˜‹', 'ðŸ˜›', 'ðŸ˜', 'ðŸ˜œ', 'ðŸ¤ª', 'ðŸ¤¨', 'ðŸ§', 'ðŸ¤“', 'ðŸ˜Ž', 'ðŸ¤©', 'ðŸ¥³', 'ðŸ˜', 'ðŸ˜’', 'ðŸ˜ž', 'ðŸ˜”', 'ðŸ˜Ÿ', 'ðŸ˜•', 'ðŸ™', 'â˜¹ï¸', 'ðŸ˜£', 'ðŸ˜–', 'ðŸ˜«', 'ðŸ˜©', 'ðŸ¥º', 'ðŸ˜¢', 'ðŸ˜­', 'ðŸ˜¤', 'ðŸ˜ ', 'ðŸ˜¡', 'ðŸ¤¬', 'ðŸ¤¯', 'ðŸ˜³', 'ðŸ¥µ', 'ðŸ¥¶', 'ðŸ˜±', 'ðŸ˜¨', 'ðŸ˜°', 'ðŸ˜¥', 'ðŸ˜“', 'ðŸ¤—', 'ðŸ¤”', 'ðŸ¤­', 'ðŸ¤«', 'ðŸ¤¥', 'ðŸ˜¶', 'ðŸ˜', 'ðŸ˜‘', 'ðŸ˜¯', 'ðŸ˜¦', 'ðŸ˜§', 'ðŸ˜®', 'ðŸ˜²', 'ðŸ¥±', 'ðŸ˜´', 'ðŸ¤¤', 'ðŸ˜ª', 'ðŸ˜µ', 'ðŸ¤', 'ðŸ¥´', 'ðŸ¤¢', 'ðŸ¤®', 'ðŸ¤§', 'ðŸ˜·', 'ðŸ¤’', 'ðŸ¤•']
    },
    gestures: {
      name: 'Gestures',
      emojis: ['ðŸ‘‹', 'ðŸ¤š', 'ðŸ–ï¸', 'âœ‹', 'ðŸ––', 'ðŸ‘Œ', 'ðŸ¤Œ', 'ðŸ¤', 'âœŒï¸', 'ðŸ¤ž', 'ðŸ¤Ÿ', 'ðŸ¤˜', 'ðŸ¤™', 'ðŸ‘ˆ', 'ðŸ‘‰', 'ðŸ‘†', 'ðŸ–•', 'ðŸ‘‡', 'â˜ï¸', 'ðŸ‘', 'ðŸ‘Ž', 'âœŠ', 'ðŸ‘Š', 'ðŸ¤›', 'ðŸ¤œ', 'ðŸ‘', 'ðŸ™Œ', 'ðŸ‘', 'ðŸ¤²', 'ðŸ¤', 'ðŸ™', 'âœï¸', 'ðŸ’ª', 'ðŸ¦¾', 'ðŸ¦¿', 'ðŸ¦µ', 'ðŸ¦¶', 'ðŸ‘‚', 'ðŸ¦»', 'ðŸ‘ƒ', 'ðŸ§ ', 'ðŸ«€', 'ðŸ«', 'ðŸ¦·', 'ðŸ¦´', 'ðŸ‘€', 'ðŸ‘ï¸', 'ðŸ‘…', 'ðŸ‘„', 'ðŸ’‹', 'ðŸ©¸']
    },
    hearts: {
      name: 'Hearts',
      emojis: ['â¤ï¸', 'ðŸ§¡', 'ðŸ’›', 'ðŸ’š', 'ðŸ’™', 'ðŸ’œ', 'ðŸ–¤', 'ðŸ¤', 'ðŸ¤Ž', 'ðŸ’”', 'â£ï¸', 'ðŸ’•', 'ðŸ’ž', 'ðŸ’“', 'ðŸ’—', 'ðŸ’–', 'ðŸ’˜', 'ðŸ’', 'ðŸ’Ÿ', 'â™¥ï¸', 'â™¦ï¸', 'â™£ï¸', 'â™ ï¸', 'ðŸƒ', 'ðŸ€„', 'ðŸ•', 'ðŸ•‘', 'ðŸ•’', 'ðŸ•“', 'ðŸ•”', 'ðŸ••', 'ðŸ•–', 'ðŸ•—', 'ðŸ•˜', 'ðŸ•™', 'ðŸ•š', 'ðŸ•›', 'ðŸ•œ', 'ðŸ•', 'ðŸ•ž', 'ðŸ•Ÿ', 'ðŸ• ', 'ðŸ•¡', 'ðŸ•¢', 'ðŸ•£', 'ðŸ•¤', 'ðŸ•¥', 'ðŸ•¦', 'ðŸ•§']
    },
    nature: {
      name: 'Nature',
      emojis: ['ðŸŒ¸', 'ðŸ’®', 'ðŸµï¸', 'ðŸŒ¹', 'ðŸ¥€', 'ðŸŒº', 'ðŸŒ»', 'ðŸŒ¼', 'ðŸŒ·', 'ðŸŒ±', 'ðŸŒ²', 'ðŸŒ³', 'ðŸŒ´', 'ðŸŒµ', 'ðŸŒ¾', 'ðŸŒ¿', 'â˜˜ï¸', 'ðŸ€', 'ðŸ', 'ðŸ‚', 'ðŸƒ', 'ðŸ„', 'ðŸŒ°', 'ðŸ¦ ', 'ðŸ¦´', 'ðŸ¦·', 'ðŸ¦¶', 'ðŸ¦µ', 'ðŸ¦¿', 'ðŸ¦¾', 'ðŸ’ª', 'ðŸ¦»', 'ðŸ‘‚', 'ðŸ‘ƒ', 'ðŸ§ ', 'ðŸ«€', 'ðŸ«', 'ðŸ‘€', 'ðŸ‘ï¸', 'ðŸ‘…', 'ðŸ‘„', 'ðŸ’‹', 'ðŸ©¸']
    },
    objects: {
      name: 'Objects',
      emojis: ['ðŸ’Ž', 'ðŸ”ª', 'ðŸ—¡ï¸', 'âš”ï¸', 'ðŸ›¡ï¸', 'ðŸ”«', 'ðŸ¹', 'ðŸ¦¯', 'ðŸ”§', 'ðŸ”¨', 'âš’ï¸', 'ðŸ› ï¸', 'â›ï¸', 'ðŸ”©', 'âš™ï¸', 'ðŸ—œï¸', 'âš–ï¸', 'ðŸ¦¯', 'ðŸ”—', 'â›“ï¸', 'ðŸ§°', 'ðŸ§²', 'âš—ï¸', 'ðŸ§ª', 'ðŸ§«', 'ðŸ§¬', 'ðŸ”¬', 'ðŸ”­', 'ðŸ“¡', 'ðŸ’‰', 'ðŸ©¹', 'ðŸ©º', 'ðŸ©»', 'ðŸ©¼', 'ðŸ©½', 'ðŸ©¾', 'ðŸ©¿', 'ðŸª€', 'ðŸª', 'ðŸª‚', 'ðŸªƒ', 'ðŸª„', 'ðŸª…', 'ðŸª†', 'ðŸª‡', 'ðŸªˆ', 'ðŸª‰', 'ðŸªŠ', 'ðŸª‹', 'ðŸªŒ', 'ðŸª', 'ðŸªŽ', 'ðŸª', 'ðŸª', 'ðŸª‘', 'ðŸª’', 'ðŸª“', 'ðŸª”', 'ðŸª•', 'ðŸª–', 'ðŸª—', 'ðŸª˜', 'ðŸª™', 'ðŸªš', 'ðŸª›', 'ðŸªœ', 'ðŸª', 'ðŸªž', 'ðŸªŸ', 'ðŸª ', 'ðŸª¡', 'ðŸª¢', 'ðŸª£', 'ðŸª¤', 'ðŸª¥', 'ðŸª¦', 'ðŸª§', 'ðŸª¨', 'ðŸª©', 'ðŸªª', 'ðŸª«', 'ðŸª¬', 'ðŸª­', 'ðŸª®', 'ðŸª¯', 'ðŸª°', 'ðŸª±', 'ðŸª²', 'ðŸª³', 'ðŸª´', 'ðŸªµ', 'ðŸª¶', 'ðŸª·', 'ðŸª¸', 'ðŸª¹', 'ðŸªº', 'ðŸª»', 'ðŸª¼', 'ðŸª½', 'ðŸª¾', 'ðŸª¿', 'ðŸ«€', 'ðŸ«', 'ðŸ«‚', 'ðŸ«ƒ', 'ðŸ«„', 'ðŸ«…', 'ðŸ«†', 'ðŸ«‡', 'ðŸ«ˆ', 'ðŸ«‰', 'ðŸ«Š', 'ðŸ«‹', 'ðŸ«Œ', 'ðŸ«', 'ðŸ«Ž', 'ðŸ«', 'ðŸ«', 'ðŸ«‘', 'ðŸ«’', 'ðŸ«“', 'ðŸ«”', 'ðŸ«•', 'ðŸ«–', 'ðŸ«—', 'ðŸ«˜', 'ðŸ«™', 'ðŸ«š', 'ðŸ«›', 'ðŸ«œ', 'ðŸ«', 'ðŸ«ž', 'ðŸ«Ÿ', 'ðŸ« ', 'ðŸ«¡', 'ðŸ«¢', 'ðŸ«£', 'ðŸ«¤', 'ðŸ«¥', 'ðŸ«¦', 'ðŸ«§', 'ðŸ«¨', 'ðŸ«©', 'ðŸ«ª', 'ðŸ««', 'ðŸ«¬', 'ðŸ«­', 'ðŸ«®', 'ðŸ«¯', 'ðŸ«°', 'ðŸ«±', 'ðŸ«²', 'ðŸ«³', 'ðŸ«´', 'ðŸ«µ', 'ðŸ«¶', 'ðŸ«·', 'ðŸ«¸', 'ðŸ«¹', 'ðŸ«º', 'ðŸ«»', 'ðŸ«¼', 'ðŸ«½', 'ðŸ«¾', 'ðŸ«¿']
    }
  };

  const handleEmojiClick = (emoji) => {
    onEmojiSelect(emoji);
    onClose();
  };

  if (!isOpen) return null;

  return (
    <div className="absolute bottom-12 left-0 z-50">
      <div className="bg-white rounded-lg shadow-xl border border-gray-200 max-w-sm w-80 max-h-96 overflow-hidden">
        {/* Header */}
        <div className="flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50">
          <h3 className="text-sm font-semibold text-gray-900">Choose Emoji</h3>
          <button
            onClick={onClose}
            className="text-gray-400 hover:text-gray-600 transition-colors p-1"
          >
            <FaTimes className="text-xs" />
          </button>
        </div>

        {/* Category Tabs */}
        <div className="flex border-b border-gray-200 bg-gray-50">
          {Object.entries(emojiCategories).map(([key, category]) => (
            <button
              key={key}
              onClick={() => setActiveCategory(key)}
              className={`flex-1 px-2 py-1 text-xs font-medium transition-colors ${
                activeCategory === key
                  ? 'text-blue-600 border-b-2 border-blue-600 bg-white'
                  : 'text-gray-500 hover:text-gray-700'
              }`}
            >
              {category.name}
            </button>
          ))}
        </div>

        {/* Emoji Grid */}
        <div className="p-3 max-h-64 overflow-y-auto bg-white">
          <div className="grid grid-cols-8 gap-1">
            {emojiCategories[activeCategory].emojis.map((emoji, index) => (
              <button
                key={index}
                onClick={() => handleEmojiClick(emoji)}
                className="w-8 h-8 text-lg hover:bg-gray-100 rounded transition-colors flex items-center justify-center"
                title={emoji}
              >
                {emoji}
              </button>
            ))}
          </div>
        </div>
      </div>
    </div>
  );
};

export default EmojiPicker; 